function doBlockHover(a){var b=$(a).attr("data-number"),c=$(a).attr("data-used"),d=b;d+=c?"<br /><br /><em>already funded</em>":"<br /><br />($25)",$("#blocknumber").html(d),$("#blockinfo").stop(!0,!0).fadeIn(250)}function doBlockUnhover(){}function purchaseTile(){var a="";for(i=0;i<cart.length;i++)a=a+cart[i]+",";a=a.substring(0,a.length-1),$("#purchase_tile_id").val(a),$("form#purchase").submit()}function addTileToPurchase(a,b){cart[cart.length]=a,$(b).addClass("cart"),updateTileCount()}function updateTileCount(){var a=cart.length;$("#tilecount").html(a)}function doCart(){var a=cart.length;if(0===a)return void swal("Whoops","You need to select some tiles first.","error");var b=25*a;swal({title:"Buy tiles?",text:"Do you wish to buy "+a+" tiles for $"+b+"?",imageUrl:"assets/img/paypal.png",showCancelButton:!0,confirmButtonColor:"#44cc55",confirmButtonText:"Purchase now",closeOnConfirm:!1},function(){purchaseTile()})}function clearCart(){cart=new Array,$(".cart").removeClass("cart"),updateTileCount()}var cart=new Array;$(document).ready(function(){var a=!1;$("#top-grid").on("click",function(b){b.preventDefault(),$(this).hasClass("top-grid-active")||($(this).addClass("top-grid-active active-grid"),$("#blockout").fadeIn(250),$("#blockinfo").fadeIn(250),a=!0)}),$("#purchase-button").on("click",function(a){a.preventDefault(),a.stopPropagation(),doCart()}),$("#clear-cart").on("click",function(a){a.preventDefault(),a.stopPropagation(),clearCart()}),$("#blockout").on("click",function(b){b.preventDefault(),$(".grid").removeClass("top-grid-active bottom-grid-active side-grid-active"),$("#blockout").fadeOut(250),$("#blockinfo").fadeOut(250),a=!1}),$("#blockinfo").on("click",function(b){b.preventDefault(),$(".grid").removeClass("top-grid-active bottom-grid-active side-grid-active"),$("#blockout").fadeOut(250),$("#blockinfo").fadeOut(250),a=!1}),$(".block").hover(function(){a===!0&&doBlockHover($(this))},function(){a===!0&&doBlockUnhover()}),$(".block").on("click",function(b){if(b.preventDefault(),a===!0){var c=$(this).attr("data-used"),d=$(this).attr("data-number");return"true"===c?void swal("Tile has been purchased","Sorry, the tile you selected has already been purchased","error"):void($(this).hasClass("cart")||addTileToPurchase(d,$(this)))}})});